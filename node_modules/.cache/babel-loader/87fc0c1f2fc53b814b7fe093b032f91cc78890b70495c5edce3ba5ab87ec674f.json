{"ast":null,"code":"var _jsxFileName = \"/Users/shrooqsaleh/Desktop/clinic/src/Chatbot.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./Chatbot.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Configuration,\n  OpenAIApi\n} = require('openai');\nconst Chatbot = () => {\n  _s();\n  const [messages, setMessages] = useState([{\n    role: 'system',\n    content: `\n    You are responsible for arranging appointments at the dental clinic.\n    You will check the available appointments and book the appointment if available\n    \n    the available appointment for tomorrow 6 April is from 10AM to 2PM. The duration of the appointment is a quarter of an hour \"don't say that to user\".\n    Do not write explanations.\n    \n    Ask the user if he wants to confirm the appointment, Then ask him for the triple name and mobile number. After that confirm the appointment\n    `\n  }, {\n    role: 'assistant',\n    content: 'Hello, how may I assist you with booking an appointment at the dental clinic?'\n  }]);\n  const [currentMessage, setCurrentMessage] = useState(\"\");\n  const handleChange = event => {\n    setCurrentMessage(event.target.value);\n  };\n  console.log(\"messages1>>>>>>\");\n  console.log(messages);\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(\"messages2>>>>>>\");\n    console.log(messages);\n    setMessages([...messages, {\n      role: \"user\",\n      content: currentMessage\n    }]);\n    // Add logic here to process the user's message and generate a response\n    sendMessageToChatGPT();\n    setCurrentMessage(\"\");\n  };\n  async function sendMessageToChatGPT() {\n    const configuration = new Configuration({\n      apiKey: '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'\n    });\n    const openai = new OpenAIApi(configuration);\n    console.log(\"messages3>>>>>>\");\n    console.log(messages);\n    const completion = await openai.createChatCompletion({\n      model: 'gpt-3.5-turbo',\n      messages: messages,\n      temperature: 0,\n      max_tokens: 100\n    });\n    console.log(completion.data.choices[0].message);\n    setMessages([...messages, {\n      role: \"user\",\n      content: currentMessage\n    }, {\n      role: \"assistant\",\n      content: completion.data.choices[0].message.content\n    }]);\n    setCurrentMessage(\"\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chatbot-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-messages\",\n      children: messages.filter(message => message.role !== \"system\").map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: message.role === \"user\" ? \"user\" : \"assistant\",\n        children: message.content\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"chatbot-input-container\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"chatbot-input\",\n        type: \"text\",\n        placeholder: \"Type your message...\",\n        value: currentMessage,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"chatbot-send-button\",\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Chatbot, \"U8DeNlM32Bdwu+csw+kR98adWfo=\");\n_c = Chatbot;\nexport default Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Configuration","OpenAIApi","require","Chatbot","_s","messages","setMessages","role","content","currentMessage","setCurrentMessage","handleChange","event","target","value","console","log","handleSubmit","preventDefault","sendMessageToChatGPT","configuration","apiKey","openai","completion","createChatCompletion","model","temperature","max_tokens","data","choices","message","className","children","filter","map","index","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["/Users/shrooqsaleh/Desktop/clinic/src/Chatbot.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./Chatbot.css\";\nconst { Configuration, OpenAIApi } = require('openai');\nconst Chatbot = () => {\n  const [messages, setMessages] = useState([{\n    role: 'system',\n    content: `\n    You are responsible for arranging appointments at the dental clinic.\n    You will check the available appointments and book the appointment if available\n    \n    the available appointment for tomorrow 6 April is from 10AM to 2PM. The duration of the appointment is a quarter of an hour \"don't say that to user\".\n    Do not write explanations.\n    \n    Ask the user if he wants to confirm the appointment, Then ask him for the triple name and mobile number. After that confirm the appointment\n    `,\n},\n{\n    role: 'assistant',\n    content: 'Hello, how may I assist you with booking an appointment at the dental clinic?',\n}\n]);\n  const [currentMessage, setCurrentMessage] = useState(\"\");\n  \n  const handleChange = (event) => {\n    setCurrentMessage(event.target.value);\n  };\n  console.log(\"messages1>>>>>>\");\n  console.log(messages);\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(\"messages2>>>>>>\");\n    console.log(messages);\n    setMessages([...messages, { role: \"user\", content: currentMessage }]);\n    // Add logic here to process the user's message and generate a response\n    sendMessageToChatGPT()\n    setCurrentMessage(\"\");\n  };\n  async function sendMessageToChatGPT() {\n\tconst configuration = new Configuration({\n\t\tapiKey: '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',\n\t});\n\tconst openai = new OpenAIApi(configuration);\n\n    console.log(\"messages3>>>>>>\");\n    console.log(messages);\n\tconst completion = await openai.createChatCompletion({\n\t\tmodel: 'gpt-3.5-turbo',\n\t\tmessages: messages,\n\t\ttemperature: 0,\n\t\tmax_tokens: 100,\n\t});\n\tconsole.log(completion.data.choices[0].message);\n    setMessages([...messages, { role: \"user\", content: currentMessage },{ role: \"assistant\", content: completion.data.choices[0].message.content }]);\n    setCurrentMessage(\"\");\n}\n\n  return (\n    <div className=\"chatbot-container\">\n      <div className=\"chatbot-messages\">\n        {messages.filter((message) =>\n  message.role !== \"system\"\n).map((message, index) => (\n          <div\n            key={index}\n            className={message.role ===\"user\"? \"user\" : \"assistant\"}\n          >\n            {message.content}\n          </div>\n        ))}\n      </div>\n      <form className=\"chatbot-input-container\" onSubmit={handleSubmit}>\n        <input\n          className=\"chatbot-input\"\n          type=\"text\"\n          placeholder=\"Type your message...\"\n          value={currentMessage}\n          onChange={handleChange}\n        />\n        <button className=\"chatbot-send-button\" type=\"submit\">\n          Send\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Chatbot;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}